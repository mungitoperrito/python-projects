echo "Create virtual environment"
pyenv virtualenv 3.12.11 translate
pyenv activate translate

echo "Update pip"
$(which python) -m pip install --upgrade pip

# On Ubunutu install the portaudio dev package
sudo apt install portaudio19-dev

echo "Install python dependencies"
$(pyenv which pip) install googletrans==4.0.0-rc1
$(pyenv which pip) install gTTS
$(pyenv which pip) install httpx
$(pyenv which pip) install SpeechRecognition
$(pyenv which pip) install pyaudio



# googletrans==4.0.0-rc1 fixes problem with translator.detect
#    AttributeError: 'coroutine' object has no attribute 'text'
#    sys:1: RuntimeWarning: coroutine 'Translator.detect' was never awaited
#
# More recent versions of googletrans are async and require a different
#    coding style.
